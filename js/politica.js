const translations = {
  es: {
    // Navegación (compartido con otras páginas)
    "nav.inicio": "Inicio",
    "nav.nosotros": "Nosotros",
    "nav.productos": "Productos",
    "nav.procesos": "Procesos",
    "nav.contacto": "Contacto",
    "nav.precios": "Precios de la semana",

    // Política de Privacidad
    "politica.tituloPagina": "Política de Privacidad - Expofruto",
    "politica.titulo": "Política de Privacidad",
    "politica.responsable": "Responsable del tratamiento de datos",
    "politica.nombreResponsable": "Expofruto S.A.S.",
    "politica.nombreResponsable2":
      "Representante Legal / CEO: Juan Manuel Mejía Arias",
    "politica.finalidad": "Finalidad",
    "politica.textoFinalidad":
      "Los datos personales recogidos mediante formularios (nombre, correo, teléfono) se utilizan exclusivamente para establecer contacto con clientes o productores interesados.",
    "politica.legitimacion": "Legitimación",
    "politica.textoLegitimacion":
      "Consentimiento del usuario al enviar el formulario.",
    "politica.destinatarios": "Destinatarios",
    "politica.textoDestinatarios":
      "Los datos no se comparten con terceros, salvo que lo exija una obligación legal.",
    "politica.derechos": "Derechos del usuario",
    "politica.textoDerechos":
      "Acceso, rectificación, cancelación y oposición. Para ejercer estos derechos, escriba a:",
    "politica.email": "gerencia@expofruto.com",
    "politica.confidencialidad": "Confidencialidad",
    "politica.textoConfidencialidad":
      "Los datos se tratarán bajo principios de confidencialidad, seguridad y legalidad.",
    "politica.actualizacion": "Actualización",
    "politica.textoActualizacion":
      "Esta política puede ser actualizada periódicamente. Se recomienda revisarla con frecuencia.",

    // Footer (compartido con otras páginas)
    footer_description: "Exportamos calidad desde Colombia para el mundo.",
    footer_contact: "Contacto",
    footer_links: "Enlaces Rápidos",
    nav_about: "Nosotros",
    nav_products: "Productos",
    nav_prices: "Precio Semanal",
    nav_processes: "Procesos",
    nav_contact: "Contacto",
    "footer.derechos": "Todos los derechos reservados.",
    "footer.avisoLegal": "Aviso Legal",
    "footer.politica": "Política de Privacidad",
    "footer.cookies": "Política de Cookies",
  },
  en: {
    // Navigation (shared)
    "nav.inicio": "Home",
    "nav.nosotros": "About Us",
    "nav.productos": "Products",
    "nav.procesos": "Processes",
    "nav.contacto": "Contact",
    "nav.precios": "Weekly Prices",

    // Privacy Policy
    "politica.tituloPagina": "Privacy Policy - Expofruto",
    "politica.titulo": "Privacy Policy",
    "politica.responsable": "Data Controller",
    "politica.nombreResponsable": "Expofruto S.A.S.",
    "politica.nombreResponsable2":
      "Legal Representative / CEO: Juan Manuel Mejía Arias",
    "politica.finalidad": "Purpose",
    "politica.textoFinalidad":
      "Personal data collected through forms (name, email, phone) is used exclusively to contact interested customers or producers.",
    "politica.legitimacion": "Legal Basis",
    "politica.textoLegitimacion": "User consent when submitting the form.",
    "politica.destinatarios": "Recipients",
    "politica.textoDestinatarios":
      "Data is not shared with third parties, unless required by legal obligation.",
    "politica.derechos": "User Rights",
    "politica.textoDerechos":
      "Access, rectification, erasure and objection. To exercise these rights, write to:",
    "politica.email": "gerencia@expofruto.com",
    "politica.confidencialidad": "Confidentiality",
    "politica.textoConfidencialidad":
      "Data will be processed under principles of confidentiality, security and legality.",
    "politica.actualizacion": "Updates",
    "politica.textoActualizacion":
      "This policy may be updated periodically. We recommend reviewing it frequently.",

    // Footer (shared)
    footer_description: "Exporting quality from Colombia to the world.",
    footer_contact: "Contact",
    footer_links: "Quick Links",
    nav_about: "About Us",
    nav_products: "Products",
    nav_prices: "Weekly Prices",
    nav_processes: "Processes",
    nav_contact: "Contact",
    "footer.derechos": "All rights reserved.",
    "footer.avisoLegal": "Legal Notice",
    "footer.politica": "Privacy Policy",
    "footer.cookies": "Cookies Policy",
  },
  fr: {
    // Navigation (shared)
    "nav.inicio": "Accueil",
    "nav.nosotros": "À propos",
    "nav.productos": "Produits",
    "nav.procesos": "Processus",
    "nav.contacto": "Contact",
    "nav.precios": "Prix Hebdomadaires",

    // Politique de Confidentialité
    "politica.tituloPagina": "Politique de Confidentialité - Expofruto",
    "politica.titulo": "Politique de Confidentialité",
    "politica.responsable": "Responsable du traitement des données",
    "politica.nombreResponsable": "Expofruto S.A.S.",
    "politica.nombreResponsable2":
      "Représentant Légal / PDG: Juan Manuel Mejía Arias",
    "politica.finalidad": "Finalité",
    "politica.textoFinalidad":
      "Les données personnelles collectées via les formulaires (nom, email, téléphone) sont utilisées exclusivement pour contacter les clients ou producteurs intéressés.",
    "politica.legitimacion": "Légitimation",
    "politica.textoLegitimacion":
      "Consentement de l'utilisateur lors de l'envoi du formulaire.",
    "politica.destinatarios": "Destinataires",
    "politica.textoDestinatarios":
      "Les données ne sont pas partagées avec des tiers, sauf obligation légale.",
    "politica.derechos": "Droits de l'utilisateur",
    "politica.textoDerechos":
      "Accès, rectification, suppression et opposition. Pour exercer ces droits, écrivez à:",
    "politica.email": "gerencia@expofruto.com",
    "politica.confidencialidad": "Confidentialité",
    "politica.textoConfidencialidad":
      "Les données seront traitées selon les principes de confidentialité, sécurité et légalité.",
    "politica.actualizacion": "Mise à jour",
    "politica.textoActualizacion":
      "Cette politique peut être mise à jour périodiquement. Nous recommandons de la consulter fréquemment.",

    // Footer (shared)
    footer_description:
      "Nous exportons la qualité de la Colombie vers le monde.",
    footer_contact: "Contact",
    footer_links: "Liens Rapides",
    nav_about: "À propos",
    nav_products: "Produits",
    nav_prices: "Prix Hebdomadaires",
    nav_processes: "Processus",
    nav_contact: "Contact",
    "footer.derechos": "Tous droits réservés.",
    "footer.avisoLegal": "Mentions Légales",
    "footer.politica": "Politique de Confidentialité",
    "footer.cookies": "Politique de Cookies",
  },
  it: {
    // Navigation (shared)
    "nav.inicio": "Home",
    "nav.nosotros": "Chi Siamo",
    "nav.productos": "Prodotti",
    "nav.procesos": "Processi",
    "nav.contacto": "Contatto",
    "nav.precios": "Prezzi Settimanali",

    // Politica sulla Privacy
    "politica.tituloPagina": "Privacy Policy - Expofruto",
    "politica.titulo": "Privacy Policy",
    "politica.responsable": "Titolare del trattamento dei dati",
    "politica.nombreResponsable": "Expofruto S.A.S.",
    "politica.nombreResponsable2":
      "Rappresentante Legale / CEO: Juan Manuel Mejía Arias",
    "politica.finalidad": "Finalità",
    "politica.textoFinalidad":
      "I dati personali raccolti tramite moduli (nome, email, telefono) sono utilizzati esclusivamente per contattare clienti o produttori interessati.",
    "politica.legitimacion": "Legittimazione",
    "politica.textoLegitimacion": "Consenso dell'utente all'invio del modulo.",
    "politica.destinatarios": "Destinatari",
    "politica.textoDestinatarios":
      "I dati non sono condivisi con terze parti, salvo obbligo legale.",
    "politica.derechos": "Diritti dell'utente",
    "politica.textoDerechos":
      "Accesso, rettifica, cancellazione e opposizione. Per esercitare questi diritti, scrivere a:",
    "politica.email": "gerencia@expofruto.com",
    "politica.confidencialidad": "Riservatezza",
    "politica.textoConfidencialidad":
      "I dati saranno trattati secondo i principi di riservatezza, sicurezza e legalità.",
    "politica.actualizacion": "Aggiornamento",
    "politica.textoActualizacion":
      "Questa politica può essere aggiornata periodicamente. Si consiglia di consultarla frequentemente.",

    // Footer (shared)
    footer_description: "Esportiamo qualità dalla Colombia per il mondo.",
    footer_contact: "Contatto",
    footer_links: "Link Veloci",
    nav_about: "Chi Siamo",
    nav_products: "Prodotti",
    nav_prices: "Prezzi Settimanali",
    nav_processes: "Processi",
    nav_contact: "Contatto",
    "footer.derechos": "Tutti i diritti riservati.",
    "footer.avisoLegal": "Avviso Legale",
    "footer.politica": "Privacy Policy",
    "footer.cookies": "Cookie Policy",
  },
};
// Función para cambiar el idioma
function changeLanguage(lang) {
  // Cambiar el atributo lang del html
  document.documentElement.lang = lang;

  // Obtener todos los elementos con data-i18n
  const elements = document.querySelectorAll("[data-i18n]");

  // Actualizar cada elemento
  elements.forEach((element) => {
    const key = element.getAttribute("data-i18n");
    if (translations[lang] && translations[lang][key]) {
      element.textContent = translations[lang][key];
    }
  });

  // Actualizar el texto del botón de idioma
  const langButton = document.querySelector(".language-dropdown");
  if (langButton) {
    langButton.innerHTML = `<img src="img/${getFlagImage(
      lang
    )}" alt="${lang}" class="flag-icon"> ${lang.toUpperCase()}`;
  }

  // Guardar preferencia en localStorage
  localStorage.setItem("preferredLanguage", lang);
}

// Función para obtener la imagen de la bandera según el idioma
function getFlagImage(lang) {
  const flags = {
    es: "colombia.png",
    en: "euu.png",
    fr: "francia.png",
    it: "italia.webp",
  };
  return flags[lang] || "colombia.png";
}

// Evento al cargar la página
document.addEventListener("DOMContentLoaded", function () {
  // Configurar eventos para los botones de idioma
  document.querySelectorAll("[data-lang]").forEach((button) => {
    button.addEventListener("click", function (e) {
      e.preventDefault();
      const lang = this.getAttribute("data-lang");
      changeLanguage(lang);
    });
  });

  // Cargar idioma preferido o usar el predeterminado
  const savedLang = localStorage.getItem("preferredLanguage") || "es";
  changeLanguage(savedLang);
});
