// Objeto con todas las traducciones
const translations = {
  es: {
    // Navigation
    "nav.inicio": "Inicio",
    "nav.nosotros": "Nosotros",
    "nav.productos": "Productos",
    "nav.procesos": "Procesos",
    "nav.contacto": "Contacto",
    "nav.precios": "Precios de la semana",

    // Hero Section
    title: "Expofruto - Soy Productor",
    "hero.title": "Conectamos tu cosecha con el mundo",
    "hero.subtitle":
      "Regístrate como productor y exportaremos tu fruta bajo los más altos estándares internacionales.",
    "hero.benefit1": "Comercialización garantizada",
    "hero.benefit2": "Pagos justos y oportunos",
    "hero.benefit3": "Asesoría técnica especializada",

    // Form
    "form.title": "Registro de Productor",
    "form.name": "Nombre *",
    "form.nameError": "Por favor ingrese su nombre.",
    "form.lastname": "Apellido *",
    "form.lastnameError": "Por favor ingrese su apellido.",
    "form.company": "Empresa",
    "form.email": "Correo Electrónico *",
    "form.emailError":
      "Por favor ingrese un correo electrónico válido (ejemplo: usuario@dominio.com).",
    "form.phone": "Número de Teléfono *",
    "form.phoneError": "Por favor ingrese su número de teléfono.",
    "form.city": "Ciudad *",
    "form.cityError": "Por favor ingrese su ciudad.",
    "form.country": "País *",
    "form.countrySelect": "Seleccione un país",
    "form.countryError": "Por favor seleccione un país.",
    "form.productsLabel": "¿Qué productos cultivas? *",
    "form.productsHint": "Selecciona máximo 2 cultivos principales:",
    "form.product1": "Limón Tahití",
    "form.product2": "Aguacate Hass",
    "form.otherProducts": "Otros productos",
    "form.specifyProducts": "Especifica qué otros productos cultivas:",
    "form.productsPlaceholder": "Ej: Mango, Piña, Guanábana...",
    "form.productsError": "Por favor especifica qué otros productos cultivas.",
    "form.productsSelectError":
      "Por favor seleccione al menos un cultivo (máximo 2).",
    "form.privacyText": "Acepto la",
    "form.privacyPolicy": "Política de Privacidad",
    "form.privacyText2": "y autorizo el tratamiento de mis datos.",
    "form.privacyError": "Debe aceptar los términos para continuar.",
    "form.submit": "Enviar Registro",

    // Benefits
    "benefits.title": "Ventajas de trabajar con nosotros",
    "benefit1.title": "Contratos Directos",
    "benefit1.description":
      "Acuerdos claros sin intermediarios para maximizar tus ganancias.",
    "benefit2.title": "Precios Competitivos",
    "benefit2.description":
      "Valoramos tu trabajo con precios justos según el mercado internacional.",
    "benefit3.title": "Asesoría Técnica",
    "benefit3.description":
      "Te ayudamos a mejorar tus cultivos con técnicas de producción sostenible.",

    // Footer
    "footer.description": "Exportamos calidad desde Colombia para el mundo.",
    "footer.contactTitle": "Contacto",
    "footer.linksTitle": "Enlaces Rápidos",
    "footer.link1": "Nosotros",
    "footer.link2": "Productos",
    "footer.link3": "Precio Semanal",
    "footer.link4": "Procesos",
    "footer.link5": "Contacto",
    "footer.copyright": "© 2023 Expofruto. Todos los derechos reservados.",
    "footer.privacy": "Política de Privacidad",
    "footer.terms": "Términos y Condiciones",
  },
  en: {
    // Navigation
    "nav.inicio": "Home",
    "nav.nosotros": "About Us",
    "nav.productos": "Products",
    "nav.procesos": "Processes",
    "nav.contacto": "Contact",
    "nav.precios": "Weekly Prices",

    // Hero Section
    title: "Expofruto - I'm a Producer",
    "hero.title": "Connecting your harvest with the world",
    "hero.subtitle":
      "Register as a producer and we'll export your fruit under the highest international standards.",
    "hero.benefit1": "Guaranteed commercialization",
    "hero.benefit2": "Fair and timely payments",
    "hero.benefit3": "Specialized technical advice",

    // Form
    "form.title": "Producer Registration",
    "form.name": "Name *",
    "form.nameError": "Please enter your name.",
    "form.lastname": "Last Name *",
    "form.lastnameError": "Please enter your last name.",
    "form.company": "Company",
    "form.email": "Email *",
    "form.emailError":
      "Please enter a valid email address (example: user@domain.com).",
    "form.phone": "Phone Number *",
    "form.phoneError": "Please enter your phone number.",
    "form.city": "City *",
    "form.cityError": "Please enter your city.",
    "form.country": "Country *",
    "form.countrySelect": "Select a country",
    "form.countryError": "Please select a country.",
    "form.productsLabel": "What products do you grow? *",
    "form.productsHint": "Select maximum 2 main crops:",
    "form.product1": "Tahiti Lime",
    "form.product2": "Hass Avocado",
    "form.otherProducts": "Other products",
    "form.specifyProducts": "Specify what other products you grow:",
    "form.productsPlaceholder": "Ex: Mango, Pineapple, Soursop...",
    "form.productsError": "Please specify what other products you grow.",
    "form.productsSelectError": "Please select at least one crop (maximum 2).",
    "form.privacyText": "I accept the",
    "form.privacyPolicy": "Privacy Policy",
    "form.privacyText2": "and authorize the processing of my data.",
    "form.privacyError": "You must accept the terms to continue.",
    "form.submit": "Submit Registration",

    // Benefits
    "benefits.title": "Advantages of working with us",
    "benefit1.title": "Direct Contracts",
    "benefit1.description":
      "Clear agreements without intermediaries to maximize your profits.",
    "benefit2.title": "Competitive Prices",
    "benefit2.description":
      "We value your work with fair prices according to the international market.",
    "benefit3.title": "Technical Advice",
    "benefit3.description":
      "We help you improve your crops with sustainable production techniques.",

    // Footer
    "footer.description": "Exporting quality from Colombia to the world.",
    "footer.contactTitle": "Contact",
    "footer.linksTitle": "Quick Links",
    "footer.link1": "About Us",
    "footer.link2": "Products",
    "footer.link3": "Weekly Price",
    "footer.link4": "Processes",
    "footer.link5": "Contact",
    "footer.copyright": "© 2023 Expofruto. All rights reserved.",
    "footer.privacy": "Privacy Policy",
    "footer.terms": "Terms and Conditions",
  },
  fr: {
    // Navigation
    "nav.inicio": "Accueil",
    "nav.nosotros": "À propos",
    "nav.productos": "Produits",
    "nav.procesos": "Processus",
    "nav.contacto": "Contact",
    "nav.precios": "Prix Hebdomadaires",

    // Hero Section
    title: "Expofruto - Je suis Producteur",
    "hero.title": "Connecter votre récolte avec le monde",
    "hero.subtitle":
      "Inscrivez-vous en tant que producteur et nous exporterons vos fruits selon les normes internationales les plus strictes.",
    "hero.benefit1": "Commercialisation garantie",
    "hero.benefit2": "Paiements justes et ponctuels",
    "hero.benefit3": "Conseil technique spécialisé",

    // Form
    "form.title": "Enregistrement du Producteur",
    "form.name": "Nom *",
    "form.nameError": "Veuillez entrer votre nom.",
    "form.lastname": "Prénom *",
    "form.lastnameError": "Veuillez entrer votre prénom.",
    "form.company": "Entreprise",
    "form.email": "Email *",
    "form.emailError":
      "Veuillez entrer une adresse email valide (exemple: utilisateur@domaine.com).",
    "form.phone": "Numéro de Téléphone *",
    "form.phoneError": "Veuillez entrer votre numéro de téléphone.",
    "form.city": "Ville *",
    "form.cityError": "Veuillez entrer votre ville.",
    "form.country": "Pays *",
    "form.countrySelect": "Sélectionnez un pays",
    "form.countryError": "Veuillez sélectionner un pays.",
    "form.productsLabel": "Quels produits cultivez-vous? *",
    "form.productsHint": "Sélectionnez maximum 2 cultures principales:",
    "form.product1": "Citron Vert Tahiti",
    "form.product2": "Avocat Hass",
    "form.otherProducts": "Autres produits",
    "form.specifyProducts": "Précisez quels autres produits vous cultivez:",
    "form.productsPlaceholder": "Ex: Mangue, Ananas, Corossol...",
    "form.productsError":
      "Veuillez préciser quels autres produits vous cultivez.",
    "form.productsSelectError":
      "Veuillez sélectionner au moins une culture (maximum 2).",
    "form.privacyText": "J'accepte la",
    "form.privacyPolicy": "Politique de Confidentialité",
    "form.privacyText2": "et autorise le traitement de mes données.",
    "form.privacyError": "Vous devez accepter les termes pour continuer.",
    "form.submit": "Envoyer l'Enregistrement",

    // Benefits
    "benefits.title": "Avantages de travailler avec nous",
    "benefit1.title": "Contrats Directs",
    "benefit1.description":
      "Accords clairs sans intermédiaires pour maximiser vos profits.",
    "benefit2.title": "Prix Compétitifs",
    "benefit2.description":
      "Nous valorisons votre travail avec des prix justes selon le marché international.",
    "benefit3.title": "Conseil Technique",
    "benefit3.description":
      "Nous vous aidons à améliorer vos cultures avec des techniques de production durable.",

    // Footer
    "footer.description":
      "Exportation de qualité depuis la Colombie vers le monde.",
    "footer.contactTitle": "Contact",
    "footer.linksTitle": "Liens Rapides",
    "footer.link1": "À propos",
    "footer.link2": "Produits",
    "footer.link3": "Prix Hebdomadaire",
    "footer.link4": "Processus",
    "footer.link5": "Contact",
    "footer.copyright": "© 2023 Expofruto. Tous droits réservés.",
    "footer.privacy": "Politique de Confidentialité",
    "footer.terms": "Conditions Générales",
  },
  it: {
    // Navigation
    "nav.inicio": "Home",
    "nav.nosotros": "Chi Siamo",
    "nav.productos": "Prodotti",
    "nav.procesos": "Processi",
    "nav.contacto": "Contatto",
    "nav.precios": "Prezzi Settimanali",

    // Hero Section
    title: "Expofruto - Sono Produttore",
    "hero.title": "Colleghiamo il tuo raccolto con il mondo",
    "hero.subtitle":
      "Registrati come produttore ed esporteremo la tua frutta secondo i più alti standard internazionali.",
    "hero.benefit1": "Commercializzazione garantita",
    "hero.benefit2": "Pagamenti equi e puntuali",
    "hero.benefit3": "Consulenza tecnica specializzata",

    // Form
    "form.title": "Registrazione Produttore",
    "form.name": "Nome *",
    "form.nameError": "Per favore inserisci il tuo nome.",
    "form.lastname": "Cognome *",
    "form.lastnameError": "Per favore inserisci il tuo cognome.",
    "form.company": "Azienda",
    "form.email": "Email *",
    "form.emailError":
      "Per favore inserisci un indirizzo email valido (esempio: utente@dominio.com).",
    "form.phone": "Numero di Telefono *",
    "form.phoneError": "Per favore inserisci il tuo numero di telefono.",
    "form.city": "Città *",
    "form.cityError": "Per favore inserisci la tua città.",
    "form.country": "Paese *",
    "form.countrySelect": "Seleziona un paese",
    "form.countryError": "Per favore seleziona un paese.",
    "form.productsLabel": "Quali prodotti coltivi? *",
    "form.productsHint": "Seleziona massimo 2 colture principali:",
    "form.product1": "Lime Tahiti",
    "form.product2": "Avocado Hass",
    "form.otherProducts": "Altri prodotti",
    "form.specifyProducts": "Specifica quali altri prodotti coltivi:",
    "form.productsPlaceholder": "Es: Mango, Ananas, Guanabana...",
    "form.productsError": "Per favore specifica quali altri prodotti coltivi.",
    "form.productsSelectError":
      "Per favore seleziona almeno una coltura (massimo 2).",
    "form.privacyText": "Accetto la",
    "form.privacyPolicy": "Privacy Policy",
    "form.privacyText2": "e autorizzo il trattamento dei miei dati.",
    "form.privacyError": "Devi accettare i termini per continuare.",
    "form.submit": "Invia Registrazione",

    // Benefits
    "benefits.title": "Vantaggi di lavorare con noi",
    "benefit1.title": "Contratti Diretti",
    "benefit1.description":
      "Accordi chiari senza intermediari per massimizzare i tuoi profitti.",
    "benefit2.title": "Prezzi Competitivi",
    "benefit2.description":
      "Valorizziamo il tuo lavoro con prezzi equi secondo il mercato internazionale.",
    "benefit3.title": "Consulenza Tecnica",
    "benefit3.description":
      "Ti aiutiamo a migliorare le tue colture con tecniche di produzione sostenibile.",

    // Footer
    "footer.description": "Esportiamo qualità dalla Colombia per il mondo.",
    "footer.contactTitle": "Contatto",
    "footer.linksTitle": "Link Veloci",
    "footer.link1": "Chi Siamo",
    "footer.link2": "Prodotti",
    "footer.link3": "Prezzo Settimanale",
    "footer.link4": "Processi",
    "footer.link5": "Contatto",
    "footer.copyright": "© 2023 Expofruto. Tutti i diritti riservati.",
    "footer.privacy": "Privacy Policy",
    "footer.terms": "Termini e Condizioni",
  },
};

// Función para cambiar el idioma
function changeLanguage(lang) {
  // Cambiar el atributo lang del html
  document.documentElement.lang = lang;

  // Obtener todos los elementos con data-i18n
  const elements = document.querySelectorAll("[data-i18n]");

  // Actualizar cada elemento
  elements.forEach((element) => {
    const key = element.getAttribute("data-i18n");
    if (translations[lang] && translations[lang][key]) {
      element.textContent = translations[lang][key];
    }
  });

  // Actualizar el texto del botón de idioma
  const langButton = document.querySelector(".language-dropdown");
  if (langButton) {
    langButton.innerHTML = `<img src="img/${getFlagImage(
      lang
    )}" alt="${lang}" class="flag-icon"> ${lang.toUpperCase()}`;
  }

  // Guardar preferencia en localStorage
  localStorage.setItem("preferredLanguage", lang);
}

// Función para obtener la imagen de la bandera según el idioma
function getFlagImage(lang) {
  const flags = {
    es: "colombia.png",
    en: "euu.png",
    fr: "francia.png",
    it: "italia.webp",
  };
  return flags[lang] || "colombia.png";
}

// Evento al cargar la página
document.addEventListener("DOMContentLoaded", function () {
  // Configurar eventos para los botones de idioma
  document.querySelectorAll("[data-lang]").forEach((button) => {
    button.addEventListener("click", function (e) {
      e.preventDefault();
      const lang = this.getAttribute("data-lang");
      changeLanguage(lang);
    });
  });

  // Cargar idioma preferido o usar el predeterminado
  const savedLang = localStorage.getItem("preferredLanguage") || "es";
  changeLanguage(savedLang);
});
